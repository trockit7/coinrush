// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

generator clientMain {
  provider = "prisma-client-js"
  output   = ".prisma/client-main"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL_NEWS")
}

model PoolNews {
  id        String   @id @default(cuid())
  pool      String // store lowercase 0x... address
  body      String // the news text
  author    String // store lowercase 0x... address
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([pool, createdAt(sort: Desc)])
}

/**
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * Token model â€” extended with social/meta fields
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 */
model Token {
  /// Primary key: pool address (lowercase 0xâ€¦)
  pool_addr String @id

  /// Token contract address (lowercase 0xâ€¦)
  token_addr String

  /// Optional metadata you upsert in your route
  name       String?
  symbol     String?
  decimals   Int?
  image_url  String?
  created_by String?

  // ðŸ”¹ New fields to match your route
  description String?
  website     String?
  telegram    String?
  twitter     String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([token_addr])
}
